{"name":"node-simple-blog","tagline":"Simple blog créé avec Node.js, Express et MongoDB","body":"Atelier organisé à [Norsys][1] ayant pour but de créer un blog en utilisant Node.js, Express 3 et MongoDB. Le projet contient [une ébauche de correction][2].\r\n\r\n## 1. Hello Express!\r\nLa première étape consiste à installer Express.js globalement sur le système puis de s'en servir pour générer un squelette d'application node.js.\r\n```\r\nnpm install -g express@3.4.8\r\nexpress simple-blog\r\ncd simple-blog\r\nnpm install\r\n```\r\n\r\nUne fois ceci fait il suffit de lancer la commande suivant pour démarrer un serveur:\r\n```\r\nnode app\r\n```\r\n\r\nPar défaut, Express est configuré pour utilisé le port 3000. L'application que vous venez de démarrer est accessible l'adresse suivante: [localhost:3000][3]\r\n\r\n### 1.1. Que mon serveur s'exécute pour toujours...\r\nUn outil supplémentaire peut être installé pour surveiller tout changement dans les fichiers du projet et redémarrer automatiquement le serveur pour les appliquer.\r\n```\r\nnpm install -g nodemon\r\n```\r\n\r\nPour utiliser cet outil, il suffit de démarrer le serveur avec la ligne suivante:\r\n```\r\nnodemon app\r\n```\r\n\r\n## 2. Configurer le modèle de donnée\r\nLa base de donnée que nous allons utiliser pour cet atelier est MongoDB. Afin d'en simplifier l'utilisation, nous allons utiliser [Mongoose][4].\r\n\r\n1. Utilisez [la documentation rapide][5] pour connecter votre serveur node à votre base de donnée.\r\n2. Créez un modèle de donnée simple pour contenir les données d'un billet de blog. Un billet contient au minimum un titre et un contenu.\r\n\r\n## 3. Créer un billet\r\nNous allons ici créer une route dans Express répondant aux requêtes de type `POST /post` permettant de créer un nouveau billet et de le persister en base.\r\n\r\nLes routes se définissent très simplement dans express grâce à une fonction qui prend le nom de la methode http souhaitée:\r\n```\r\napp.post('/post', function(req, res) {\r\n    // Insérer votre code ici\r\n\r\n});\r\n```\r\n\r\n1. Récupérez les données dans le corps de la requête POST (req.body) pour créer un nouvel objet Billet.\r\n2. Persistez cet objet en base et renvoyez l'objet ainsi créé en réponse à la requête\r\n\r\n## 4. Afficher la liste des billets\r\nMaintenant que nous avons des billets dans la base de donnée, il ne reste qu'à les afficher sur la page principale. Pour cela, nous allons utiliser les possibilités du langage de template [jade][6], utilisé par défaut avec Express\r\n\r\n1. Modifiez la route `GET /` pour renvoyer tous les billets du blog dans un objet JSON.\r\n2. Modifiez la vue _index.jade_ pour afficher la liste des billets. Vous aurez à utiliser l'instruction `each` de jade.\r\n\r\n## 5. Afficher un billet\r\nLa prochaine étape est de permettre l'affichage d'un billet du blog en particulier à partir de la page principale.\r\n\r\n1. Créez une route `GET /:id` et utilisez l'_id_ en paramètre pour rechercher le billet dans la base. Vous pouvez utiliser la fonction `findById` de Mongoose. La route doit renvoyer vers un nouveau template _post.jade_ qui servira a afficher le billet.\r\n2. Modifiez la page principale pour associer un lien vers la route créé pour chacun des billet affiché.\r\n\r\n## 6. Créer un billet (bis)\r\nMaintenant que l'affichage des billets est fonctionnel, il est temps de créer un page permettant de créer un billet sans avoir à passer par une API REST.\r\n\r\n1. Créez une nouvelle page avec un formulaire permettant la création de billet et utilisant la route existante `POST /post`.\r\n2. Modifiez la route `POST /post` pour retourner la page affichant le bille nouvellement créé.\r\n\r\n## 7. Mettre à jour un billet (BONUS)\r\nCréez une page permettant de mettre à jour un billet existant. Encore une fois, Mongoose fourni une fonction permettant de simplifier la tache: `findByIdAndUpdate`.\r\n\r\n## 8. Supprimer un billet (BONUS)\r\nAjoutez un lien permettant de supprimer un billet existant.\r\n\r\n[1]: http://www.norsys.fr/\r\n[2]: https://github.com/ChristopheHoch/node-simple-blog.git\r\n[3]: http://localhost:3000\r\n[4]: http://mongoosejs.com/\r\n[5]: http://mongoosejs.com/docs/index.html\r\n[6]: http://jade-lang.com/","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}